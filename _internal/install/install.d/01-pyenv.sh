#!/usr/bin/env zsh
# -*- Mode: bash -*-
# vi: set ft=bash :
#
#
# ==============================================================================
#
# Purpose:           Python Installs
#
# Parameters:        (none) ;
#                    -----------------------------------------------------------
#
# Called From:       (script) sourced
#
# Author:            Samir Radvanski <samir.radvanski@gmail.com>
#
# Notes:             Script used to install python versions
#
# Revision:          Last change: 01/2018 by SR :: Python installations
#
# ==============================================================================

# ==============================================================================
# VARIABLES
# ==============================================================================

# ------------------------------------------------------------------------------
# VARIABLES LOADING
# ------------------------------------------------------------------------------
source ${HOME}/.dotfiles/_internal/variables/variables.sh

# ------------------------------------------------------------------------------
# VARIABLES
# ------------------------------------------------------------------------------

# @var string[] PY_VERSIONS - pythone versions
PY_VERSIONS=(3.6.4 2.7.14)

# ------------------------------------------------------------------------------
# VARIABLES EXPORTS
# ------------------------------------------------------------------------------
export PYENV_ROOT="${DOT_HOME}/.pyenv"
export PATH="${PYENV_ROOT}/bin:$PATH"

# --------------------------------------------------------------------------
# PYENV INIT
# --------------------------------------------------------------------------
if command -v pyenv 1>/dev/null 2>&1; then
    eval "$(pyenv init -)"
fi

# ==============================================================================
# EXECUTION
# ==============================================================================
if [[ $(command -v pyenv) ]]; then

    # --------------------------------------------------------------------------
    # Install Versions of Pyenv
    # --------------------------------------------------------------------------
    for version in $PY_VERSIONS; do
        pyenv install ${version}
    done

    # --------------------------------------------------------------------------
    # Rehash Python versions
    # --------------------------------------------------------------------------
    pyenv rehash
    pyenv global 3.6.4

fi

# ------------------------------------------------------------------------------
# CONFIGURE VM
# ------------------------------------------------------------------------------
unset PY_VERSIONS
